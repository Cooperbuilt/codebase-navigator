# Codebase Navigator

A Claude Cowork plugin that lets non-engineers ask questions about your codebase and infrastructure without interrupting your engineering team.

## The Problem

Your PM asks your engineers:
- "What capabilities do we have?"
- "How does the checkout flow work?"
- "Why are customers seeing duplicate charges?"
- "How much would it cost to add webhook support?"
- "Explain what happened with the Acme Corp integration issue"

Each question pulls an engineer out of flow state for 15-60 minutes. Multiply by a few questions a day, and you've lost a meaningful chunk of engineering velocity — on questions that the codebase can answer directly.

## What This Plugin Does

**Codebase Navigator** connects Claude to your repositories and cloud infrastructure, then answers questions with the right level of technical detail — using correct terms without dumbing anything down, and including file references so engineers can verify or dig deeper.

Four commands:

| Command | Purpose |
|---------|---------|
| `/ask <question>` | Ask anything about your code or infrastructure |
| `/explain-service <name>` | Deep dive on a specific service or feature |
| `/customer-case <description>` | Investigate a customer-reported issue |
| `/audit` | One-time codebase health assessment (7 dimensions, scored) |

### Key Design Decisions

- **XY problem detection** — Before answering, the plugin checks whether the question is about the real problem or an assumed solution. It uses actual code context to offer smarter reframings, not generic clarification questions.
- **No estimates, ever** — The plugin will not provide time, effort, or feasibility estimates. It gives you the technical context to bring to engineering so they can make those calls.
- **Graceful degradation** — Works with just GitHub access. Gets better with Terraform repos. Gets best with live AWS CloudWatch and CloudFormation access. Never errors because an optional connector is missing.
- **Methodology is universal, context is yours** — Skills encode how to think about code. Config files (auto-generated by `/setup`) encode your specific repos, services, and team conventions.

## Quick Start

### 1. Install the plugin

```bash
claude plugins add codebase-navigator
```

### 2. Configure code access

Copy `.mcp.json.example` to `.mcp.json` and add your GitHub token:

```json
{
  "mcpServers": {
    "github": {
      "command": "docker",
      "args": ["run", "--rm", "-i",
        "-e", "GITHUB_PERSONAL_ACCESS_TOKEN",
        "-e", "GITHUB_READ_ONLY=1",
        "ghcr.io/github/github-mcp-server"
      ],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "ghp_your_token_here"
      }
    }
  }
}
```

Use a read-only token scoped to your org. The plugin never needs write access.

### 3. Run setup

```
/setup
```

The setup wizard scans your repos and generates config files automatically. Review and tweak them.

### 4. Start asking questions

```
/ask how does the payment retry logic work?
/explain-service order-processor
/customer-case customer reports they were charged twice for order #12345
```

## Adding Infrastructure Access (Optional)

For richer answers about deployed infrastructure, add CloudWatch and CloudFormation MCP servers. See [CONNECTORS.md](CONNECTORS.md) for setup instructions and all supported providers.

## Plugin Structure

```
codebase-navigator/
├── .claude-plugin/plugin.json   # Plugin manifest
├── .mcp.json.example            # MCP server config template
├── CONNECTORS.md                # Connector documentation
├── config/                      # YOUR context (auto-generated by /setup)
│   ├── repos.md                 # Repository inventory
│   ├── services.md              # Service map and dependencies
│   ├── team-conventions.md      # Coding patterns, branching, config
│   └── guardrails.md            # What NOT to answer
├── commands/                    # Slash commands
│   ├── ask.md                   # /ask — general Q&A
│   ├── explain-service.md       # /explain-service — service deep dive
│   ├── customer-case.md         # /customer-case — issue investigation
│   ├── audit.md                 # /audit — health assessment
│   └── setup.md                 # /setup — onboarding wizard
├── skills/                      # Domain knowledge (auto-activated)
│   ├── xy-problem-detection.md  # Clarification reasoning
│   ├── semi-technical-voice.md  # Tone calibration + guardrails
│   ├── codebase-navigation.md   # Code search methodology
│   ├── infra-awareness.md       # Infrastructure interpretation
│   └── audit-rubric.md          # Health assessment scoring
└── references/                  # Detailed reference material
    ├── audit-scoring-guide.md   # Per-dimension scoring criteria
    └── audit-output-template.md # Report format template
```

## Customization

### For Your Team

1. **Edit config files** — `config/repos.md`, `config/services.md`, `config/team-conventions.md` describe YOUR codebase. Update them as your architecture evolves.
2. **Edit guardrails** — `config/guardrails.md` controls what the plugin won't answer. Add team-specific rules.
3. **Swap connectors** — Edit `.mcp.json` to use different providers (GitLab instead of GitHub, Datadog instead of CloudWatch).

### For the Community

Skills encode universal methodology. If you improve how XY problem detection works, how code navigation strategies perform, or how the audit rubric scores — those improvements help everyone. PRs welcome.

## Capability Levels

| Level | What's Connected | What Works |
|-------|-----------------|------------|
| **Code Only** | GitHub MCP | `/ask`, `/explain-service`, `/audit` — no live infra |
| **Code + IaC** | GitHub + Terraform in repos | Above + architecture questions from IaC |
| **Full** | GitHub + CloudWatch + CloudFormation | Everything, including live log/metric correlation |

## License

Apache License 2.0
